name: CI Selftest

on:
  workflow_dispatch:

jobs:
  fail-on-purpose:
    runs-on: ubuntu-latest
    steps:
      - name: Intentionally fail (first run)
        run: |
          echo "Simulated failure for failure tracker validation" >&2
          exit 1

  succeed-after:
    needs: fail-on-purpose
    if: ${{ always() }}
    runs-on: ubuntu-latest
    steps:
      - name: Success placeholder
        run: echo "Follow-up success run" >> $GITHUB_STEP_SUMMARY