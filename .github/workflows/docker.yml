name: Docker

on:
  push:
    branches: [ phase-2-dev ]
    paths-ignore:
      - 'docs/**'
      - '**/*.md'
      - '.github/ISSUE_TEMPLATE/**'
  pull_request:
    paths-ignore:
      - 'docs/**'
      - '**/*.md'
      - '.github/ISSUE_TEMPLATE/**'
  workflow_dispatch:
    inputs:
      debug_build:
        description: 'Enable verbose test output for debugging'
        required: false
        default: false
        type: boolean

jobs:
  docker-only:
    uses: ./.github/workflows/reusable/ci-python.yml
    secrets: inherit
    with:
      run-lint: false
      run-typecheck: false
      run-tests: false
      run-docker: true
      run-gate: true
      docker-debug: ${{ github.event.inputs.debug_build == 'true' }}
