name: Maint 47 Check Failure Tracker

'on':
  workflow_run:
    workflows: ["Gate"]
    types: [completed]

permissions:
  contents: read

jobs:
  redirect:
    name: Delegated to Maint 46 Post CI
    if: >
      github.event.workflow_run.event == 'pull_request' &&
      github.event.workflow_run.pull_requests &&
      github.event.workflow_run.pull_requests[0] &&
      github.event.workflow_run.pull_requests[0].number
    runs-on: ubuntu-latest
    steps:
      - name: Emit delegation summary
        run: |
          cat <<'MARKDOWN' >> "$GITHUB_STEP_SUMMARY"
          ### Failure tracker delegated to Maint 46 Post CI
          Failure tracker issue updates, labeling, and artifacts now execute inside `maint-46-post-ci.yml`.
          This workflow remains as a thin compatibility shell while downstream listeners migrate.
          MARKDOWN
      - name: Log delegation
        run: echo "Failure tracker logic handled by Maint 46 Post CI."
