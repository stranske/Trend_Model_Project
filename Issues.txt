1) Adopt workflow naming/numbering + rename files to match

Labels: workflows, ci, devops, documentation, priority: high, status: ready
Body:

Convention

Filename: <area>-<NN>-<slug>.yml

pr-10-* PR checks

maint-3x..5x-* maintenance

agents-7x-* agents + issue helpers

reusable-9x-* reusable composites

Keep 10‑point gaps to allow insertions.

name: field mirrors filename title‑cased.

Final set (target)

PR checks:

pr-10-ci-python.yml (keep; update only if needed)

pr-12-docker-smoke.yml (keep) 
GitHub
+1

Maintenance:

maint-30-post-ci-summary.yml (keep) 
GitHub

maint-32-autofix.yml (keep) 
GitHub

maint-33-check-failure-tracker.yml (keep) 
GitHub

maint-36-actionlint.yml (keep; becomes sole workflow linter) 
GitHub

maint-40-ci-signature-guard.yml (keep) 
GitHub

maint-02-repo-health.yml (rename from repo-health-self-check.yml)

Agents:

agents-70-orchestrator.yml (rename from agents-consumer.yml; fix inputs per Issue 3) 
GitHub

Reusable:

reusable-70-agents.yml (rename from reuse-agents.yml, update callers) 
GitHub

reusable-99-selftest.yml (keep; becomes the only self‑test composite)

Files to remove

gate.yml (invalid; superseded by explicit “needs” in CI) 
GitHub

pr-18-workflow-lint.yml (duplicate of maint‑36 in practice) 
GitHub
+1

pr-20-selftest-pr-comment.yml, maint-43-selftest-pr-comment.yml, maint-44-selftest-reusable-ci.yml, maint-48-selftest-reusable-ci.yml, selftest-pr-comment.yml (collapse into a single caller; see Issue 4). 
GitHub

Tasks

 git mv .github/workflows/repo-health-self-check.yml .github/workflows/maint-02-repo-health.yml

 git mv .github/workflows/agents-consumer.yml .github/workflows/agents-70-orchestrator.yml

 git mv .github/workflows/reuse-agents.yml .github/workflows/reusable-70-agents.yml and update any uses: ./.github/workflows/reuse-agents.yml to the new path. 
GitHub

 Delete the obsolete files above.

 Update internal references (e.g., any scripts or summary jobs listing explicit workflow paths). Post‑CI Summary currently references pr-10-ci-python.yml and pr-12-docker-smoke.yml so keep those stable. 
GitHub

 Add docs/ci/WORKFLOWS.md describing the scheme.

Acceptance criteria

All filenames follow the convention.

No broken uses: references.

Actions tab only shows the “Final set.”

2) Remove broken umbrella: delete .github/workflows/gate.yml

Labels: workflows, ci, devops, priority: high, status: ready
Body:

Background
gate.yml is invalid: YAML anchor trick + marker string under jobs causes a validation failure: “Unexpected value 'not quarantine and not slow'.” It provides no value while failing constantly. 
GitHub

Tasks

 Delete .github/workflows/gate.yml.

 If you still want a “gate,” rely on explicit needs: inside pr-10-ci-python.yml and pr-12-docker-smoke.yml or use a small, valid fan‑in job in CI instead.

Acceptance criteria

No further runs of gate.yml; PRs rely on normal needs: to fan‑in.

3) Fix agents-consumer input explosion and rename to agents-70-orchestrator.yml

Labels: workflows, agents, devops, enhancement, priority: high, status: ready
Body:

Background
workflow_dispatch allows max 10 inputs. Current file defines >10 and fails validation. It also calls reuse-agents.yml by path. We’ll cap inputs and pass an options_json to cover long‑tail toggles. 
GitHub

Scope

Rename to agents-70-orchestrator.yml (Issue 1).

Reduce dispatch inputs to ≤10: keep the primary toggles, move rare flags into options_json (JSON string parsed via actions/github-script).

Update callsite to uses: ./.github/workflows/reusable-70-agents.yml. 
GitHub

Tasks

 Inputs to keep: enable_readiness, readiness_agents, require_all, enable_preflight, codex_user, enable_verify_issue, verify_issue_number, enable_watchdog, draft_pr, plus options_json.

 Add a step to parse options_json into env vars with sane defaults.

 Update uses: path to the renamed reusable workflow. 
GitHub

 Document the JSON schema in the job description.

Acceptance criteria

Manual dispatch form renders successfully.

Reusable call works under the new path.

Agents jobs cover readiness, preflight, diagnostic, verify‑issue, and watchdog without validation errors.

4) Consolidate self‑tests into one caller; keep a single reusable composite

Labels: workflows, ci, devops, refactor, priority: medium, status: ready
Body:

Background
Multiple similarly‑named self‑test workflows exist and add noise: pr-20-selftest-pr-comment.yml, maint-43-*, maint-44-*, maint-48-*, selftest-pr-comment.yml, plus reusable-99-selftest.yml. Collapse to one human‑facing caller that invokes the single composite. 
GitHub

Tasks

 Delete the five redundant selftest caller workflows.

 Add one caller: maint-90-selftest.yml that only runs on workflow_dispatch and (optionally) a weekly schedule.

 Ensure it calls reusable-99-selftest.yml with the minimal input set.

Acceptance criteria

Only one visible self‑test caller + one reusable composite remain.

5) Make maint-36-actionlint.yml the only workflow-lint and remove pr-18-workflow-lint.yml

Labels: workflows, ci, devops, refactor, priority: medium, status: ready
Body:

Background
Two linters exist: pr-18-workflow-lint.yml and maint-36-actionlint.yml. Keep the reviewdog‑based maint‑36 and drop pr‑18 to avoid duplicate runs. 
GitHub
+1

Tasks

 Delete .github/workflows/pr-18-workflow-lint.yml.

 Confirm maint-36-actionlint.yml runs on PRs, pushes, and weekly cron. 
GitHub

Acceptance criteria

Exactly one workflow‑lint run per PR/push.

6) CI Python: unify style gate + type check + coverage into pr-10-ci-python.yml

Labels: ci, workflows, testing, tech:coverage, priority: high, status: ready
Body:

Scope

Ensure the CI job includes:

Format check (Black), lint (Ruff), type check (Mypy), unit tests, coverage.

Concurrency: cancel in progress per PR head SHA.

Path filters: ignore docs/**, **/*.md, .github/ISSUE_TEMPLATE/** like Docker already does. 
GitHub

Coverage posted to step summary.

Keep filename stable to avoid breaking Post CI Summary lookups. 
GitHub

Tasks

 Add/update paths-ignore to match Docker’s ignores. 
GitHub

 Add concurrency: group: ci-${{ github.ref }}-${{ github.event.pull_request.number || github.sha }}.

 Ensure pinned versions loaded from a shared env file (see Issue 7).

Acceptance criteria

One CI job enforces style, types, tests + coverage.

Docs‑only PRs don’t spend cycles.

7) Pin formatter/type versions once via env file used by CI and Autofix

Labels: ci, workflows, devops, refactor, priority: medium, status: ready
Body:

Scope

Create .github/workflows/autofix-versions.env (or confirm it exists) and load it in pr-10-ci-python.yml and maint-32-autofix.yml so local scripts/style_gate_local.sh and CI stay in lock‑step. 
GitHub
+1

Tasks

 Add the env file with Black/Ruff/Mypy precise pins.

 Source it in both workflows.

 Document in docs/ci/WORKFLOWS.md.

Acceptance criteria

Local “style gate” outputs match CI exactly.

No formatter drift PRs.

8) Harden Post CI Summary

Labels: workflows, ci, enhancement, priority: medium, status: ready
Body:

Background
Post‑CI Summary enumerates target workflows by path and writes a PR summary. Keep the two stable targets and defensively handle missing runs. 
GitHub

Tasks

 Keep targets: pr-10-ci-python.yml, pr-12-docker-smoke.yml.

 Robustify null checks and summary formatting; no PR comments, only step summary.

 Confirm it only runs for PR events via workflow_run filter. 
GitHub

Acceptance criteria

Exactly one summary per PR. No loops, no duplicate comments.

9) Failure Tracker: tighten scope and labeling

Labels: workflows, ci, ci-failure, enhancement, priority: medium, status: ready
Body:

Background
You already have maint-33-check-failure-tracker.yml firing on workflow_run. Keep it, but: only PR events, label failed PRs ci-failure, and attach one small artifact snapshot. 
GitHub

Tasks

 Filter to PR‑only workflow_run.

 Auto‑label the PR with ci-failure when any required job fails.

 Keep the tiny “ci‑failures‑snapshot” artifact. 
GitHub

Acceptance criteria

Failing PRs get exactly one label and one small artifact per run.

10) Docker smoke: keep caching, add guard rails

Labels: ci, workflows, devops, priority: medium, status: ready
Body:

Background
pr-12-docker-smoke.yml is sound: hadolint, buildx cache keyed on requirements.lock, path‑ignores, optional registry login on push. Add a couple of safety checks. 
GitHub

Tasks

 Add an explicit health check step using ${{ env.HEALTH_PORT }} and ${{ env.HEALTH_PATH }} after the build to fail fast if the app doesn’t come up.

 Ensure job‐level timeout stays ≤10 min.

 Make the cache save step conditional on non‑PR events (already present). 
GitHub

Acceptance criteria

Smoke job fails in seconds on a bad image rather than minutes later.

11) Repo Health: rename and schedule light weekly sweep

Labels: workflows, devops, enhancement, priority: low, status: ready
Body:

Scope

Rename repo-health-self-check.yml to maint-02-repo-health.yml (Issue 1).

Trigger weekly schedule; collect simple signals (stale branches, unowned Issues) and write to the run summary only.

Tasks

 Add a cron schedule.

 Use actions/github-script to emit a tidy summary table.

 No PR comments.

Acceptance criteria

Single weekly report in the job summary.

12) CI Signature Guard: reduce noise and document

Labels: workflows, devops, documentation, priority: low, status: ready
Body:

Background
maint-40-ci-signature-guard.yml validates expected jobs using fixtures and a composite action. Keep it, but limit branches to the ones you actually use and document. 
GitHub

Tasks

 Confirm branch filters only include active ones (e.g., phase-2-dev and PRs). 
GitHub

 Add a short section to docs/ci/WORKFLOWS.md explaining the signature files.

Acceptance criteria

Guard runs only where relevant and has a link to docs.

13) Docs: add docs/ci/WORKFLOWS.md and contributor quick‑start

Labels: documentation, docs, workflows, help wanted, priority: low, status: ready
Body:

Scope

Minimal docs page describing:

The naming scheme and number ranges (Issue 1)

Which workflows are required/optional

How to run local “style gate” so PRs don’t fail in CI

Where to add new workflows and how to choose an NN slot

Agents dispatch JSON schema (Issue 3)

Acceptance criteria

One markdown file, linked from README.
