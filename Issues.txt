1) Add walk-forward (time-series) cross-validation harness + CLI
Labels: enhancement, engine, testing, exports, priority: low, risk:low
Body:
## Why
Block/expanding validation offers a clearer OOS picture than a single in-sample run.
## Scope
- `analysis/cv.py::walk_forward(data, folds=3, expand=True, params=...) -> Report`.
- Metrics per fold: OOS Sharpe, max drawdown, turnover, cost drag.
- Small CLI entry point: `python -m src.cli cv --folds 5 --config config.yml`.
- Export a concise CSV/MD report.
## Non-Goals
- Hyperparameter search; evaluation only.
## Tasks
- [ ] Implement harness and metrics.
- [ ] CLI wrapper and example config.
- [ ] Test on synthetic data with deterministic seed.
## Acceptance Criteria
- Running the CLI produces fold metrics and a combined OOS summary file.
- Tests confirm fold boundaries and no look-ahead in CV splits.

2) Title: Cost-aware portfolio constructor (L1 turnover penalty option)
Labels: enhancement, engine, priority: low, risk:low
Body:
## Why
A small penalty on weight changes reduces churn and better reflects frictions.
## Scope
- In portfolio construction, add optional parameter `lambda_tc` that shrinks proposed weight changes toward previous weights (simple L1-style penalty or convex combination).
- Switchable without touching signal definitions.
- Unit tests on a toy series confirming reduced turnover as `lambda_tc` increases.
## Non-Goals
- Full optimizer rewrite; start with a simple penalty/shrinkage heuristic.
## Tasks
- [ ] Implement penalty logic gated by config.
- [ ] Add tests demonstrating monotone decrease in turnover vs. `lambda_tc`.
## Acceptance Criteria
- With the same signals, higher `lambda_tc` yields lower turnover in tests.

3) Title: Centralize project-root path resolution to avoid CWD fragility
Labels: enhancement, backend, config, priority: low, risk:low
Body:
## Why
Relative paths break under Docker, tests, and Streamlit; a single resolver avoids “works on my machine.”
## Scope
- Add `src/utils/paths.py::proj_path(*parts)` which resolves relative to repo root (env override allowed).
- Replace ad-hoc `Path.cwd()` joins in scripts and the app with `proj_path`.
- Tests that simulate different CWDs to ensure stability.
## Non-Goals
- Changing storage locations; only how paths are resolved.
## Tasks
- [ ] Implement resolver and adopt it in scripts/apps where relevant.
- [ ] Add tests covering non-root CWD and Docker working dirs.
## Acceptance Criteria
- All existing scripts run from any CWD without path errors.

4) Title: Streamlit app: cache heavy work and harden uploads (size and CSV injection)
Labels: enhancement, backend, testing, documentation, priority: low, risk:low
Body:
## Why
Uploads can be messy (duplicate columns, formula strings) and re-running heavy work kills UX.
## Scope
- Use `st.cache_data` for expensive loads and derived tables; `st.cache_resource` if needed.
- Reject files above a configurable size (for example, 10 MB); sanitize headers starting with `=`, `+`, `-`, `@`.
- Validate schema before merging uploaded data with internal series; require unique column names.
- Extend `test_upload_app.py` with fuzzier inputs.
## Non-Goals
- Building a full data catalog; just guardrails for user inputs.
## Tasks
- [ ] Implement caching and guards.
- [ ] Add validation errors with clear messages in the UI.
- [ ] Extend tests for large files, duped columns, and formula-like headers.
## Acceptance Criteria
- App accepts valid CSVs quickly on rerun and rejects malformed inputs with actionable messages.
- Tests cover the new edge cases.

5) Title: Export a code-driven “tearsheet” (Markdown/HTML) from Results
Labels: enhancement, exports, documentation, priority: low, risk:low
Body:
## Why
A reproducible summary beats manually exporting notebook cells.
## Scope
- `analysis/tearsheet.py::render(results, out="reports/tearsheet.md")` with:
  - Table of headline stats (Sharpe, drawdown, vol, CAGR), turnover, cost drag.
  - Plots: equity curve, rolling Sharpe/vol, drawdown, turnover.
- Wire a CLI: `python -m src.cli report --last-run`.
- Reference it from `Portfolio_Test_Results_Summary.md`.
## Non-Goals
- Styling perfection; prioritize content and determinism.
## Tasks
- [ ] Implement renderer and basic plots.
- [ ] Minimal CLI and example run command in README.
- [ ] Test that the file is written and includes expected sections.
## Acceptance Criteria
- Running the CLI produces a tearsheet file with stats and plots using the latest `Results`.
- CI artifact (optional) or repo file present after a demo run.

6) Title: Property-based tests for time-series robustness (Hypothesis)
Labels: testing, engine, priority: low, risk:low
Body:
## Why
Randomized series with drops/spikes catch edge cases that examples miss.
## Scope
- Add `tests/test_timeseries_properties.py` using Hypothesis to generate price paths with:
  - Missing days, outliers, flat segments, and partial histories.
- Assertions: no NaNs through the pipeline, monotonic timestamps preserved, turnover and cost finite, and contracts hold.
- Cross-link with the data contracts (Issue 2) and timing (Issue 3).
## Non-Goals
- Maximizing coverage numbers; focus on failure discovery.
## Tasks
- [ ] Implement generators and property tests.
- [ ] Ensure seeds are fixed for determinism in CI.
## Acceptance Criteria
- Property suite passes in CI and locally.
- Failing seeds are reported with minimal repro context for debugging.

7) Title: Minimal config registry for universes (YAML)
Labels: enhancement, config, data, priority: low, risk:low
Body:
## Why
Swapping small predefined universes without branching code simplifies comparisons.
## Scope
- Add `config/universe/*.yml` describing a few “named universes” that map to the existing CSV membership timelines.
- Loader knows how to pick a universe by key and read the current CSVs.
- CLI switch `--universe core` to select at run time; default preserves today’s behavior.
## Non-Goals
- Moving to a complex config framework; keep it tiny and explicit.
## Tasks
- [ ] Create 2–3 example universe YAMLs.
- [ ] Add a tiny accessor `load_universe(key)` that returns the time-varying mask.
- [ ] Example run documented in README.
## Acceptance Criteria
- A run can be re-executed against another named universe by changing a single CLI flag.
