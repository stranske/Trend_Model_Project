1) PR‑02 Autofix: label‑gate, enable cancel‑in‑progress, and fork‑safe artifacts

Labels: workflows, ci, devops, autofix, refactor, priority: high, risk:low, status: ready

Body:
Design reference: Workflow System Overview
. Current file: .github/workflows/pr-02-autofix.yml. 

Why

Two writers touching PRs causes races and noise. Autofix should be deliberate, not ambient.

Plan

- Label‑gate: run only when the PR has label autofix.

jobs:
  apply:
    if: contains(github.event.pull_request.labels.*.name, 'autofix')


- Concurrency: add a PR‑scoped concurrency group with cancel-in-progress: true.

  concurrency:
    group: pr-02-autofix-${{ github.event.pull_request.number || github.run_id }}
    cancel-in-progress: true


- Fork‑safe path: when write perms are missing, upload a .patch artifact and post a link instead of pushing.

- Single source of truth: call reusable-18-autofix.yml only; do not duplicate logic.

- Report: post a single summary comment with a link to the artifact or the commit.

Acceptance criteria

- On a PR without autofix, PR‑02 does not run.

- With autofix, exactly one run is active at a time; repeated events cancel the prior run.

- On forks, a .patch is attached and linked in a PR comment.

2) Remove agents-62-consumer.yml; enforce orchestrator + issue bridge only

Labels: agents, workflows, devops, refactor, priority: medium, risk:low, status: ready

Body:
Design reference: Workflow System Overview
Files involved:

Keep: .github/workflows/agents-70-orchestrator.yml, .github/workflows/agents-63-codex-issue-bridge.yml. 

Remove: .github/workflows/agents-62-consumer.yml if present. 

Tasks

- Delete .github/workflows/agents-62-consumer.yml.

- Confirm the orchestrator is the only documented entry point; ensure the issue bridge triggers on agent:codex issues.

- Add or update the “Agent task” issue template to auto‑apply agents and agent:codex labels.

Acceptance criteria

- Creating an issue with the template triggers the bridge and a working branch/PR.

- No legacy consumer flows remain in the repo.

3) Add selftest-runner.yml and remove redundant selftest wrappers

Labels: workflows, testing, refactor, docs, priority: medium, risk:low, status: ready

Body:
Design reference: Workflow System Overview
Keep selftest-81-reusable-ci.yml as the matrix executor. 

Tasks

- Add .github/workflows/selftest-runner.yml with inputs:

  - mode: summary | comment | dual-runtime

  - post_to: pr-number | none

  - enable_history: true | false

- Migrate any existing selftest wrappers to call the runner.

- Remove all other selftest-* wrappers, keeping selftest-81-reusable-ci.yml only.

- Update the overview doc’s Self‑tests section.

Acceptance criteria

- A single manual or workflow_dispatch trigger covers all variants via inputs.

- No other selftest wrappers remain besides selftest-81-reusable-ci.yml.

4) Gate: post at‑most‑once comment for docs‑only PRs and fast‑pass heavy jobs

Labels: workflows, ci, enhancement, docs, priority: medium, risk:low, status: ready

Body:
Design reference: Workflow System Overview
Gate file: .github/workflows/pr-00-gate.yml. 

Tasks

- In Gate’s early detection step, set an output doc_only=true|false.

- Guard heavy jobs with if: needs.detect.outputs.doc_only != 'true'.

- Add a github-script step that:

  - searches existing PR comments for a known marker (e.g., <!-- gate-docs-only -->);

  - posts a short “docs‑only, fast‑pass” comment only if the marker is missing;

  - writes the same message to the job summary.

- Ensure the gate job still emits the single required status.

Acceptance criteria

- Docs‑only PRs show Gate as required and passing quickly.

- Exactly one visible comment per PR for docs‑only cases.

5) Enforce Gate as required on phase-2-dev; verify with Health‑44

Labels: devops, ci, workflows, config, docs, priority: high, risk:low, status: ready

Body:
Design reference: Workflow System Overview
- Health workflow: .github/workflows/health-44-gate-branch-protection.yml (default branch: phase-2-dev).

Tasks

- In repository settings, require the Gate check on the default branch.

- If a PAT is configured, allow Health‑44 to enforce; otherwise, keep it as a verifier and alert.

- Document the procedure and recovery steps in the overview doc.

Acceptance criteria

- Health‑44 reports “OK” after a scheduled run or manual dispatch.

- A test PR targeting the default branch shows Gate as a required check.

6) Align mypy execution with pyproject.toml pinned python_version

Labels: ci, testing, workflows, refactor, priority: medium, risk:low, status: ready

Body:
Design reference: Workflow System Overview
Source of truth for the pinned version: pyproject.toml. 

Tasks

- In reusable-10-ci-python.yml, condition mypy on the pinned version, for example:

if: matrix.python-version == '3.11'


- Keep ruff and pytest on all matrix legs.

- Document the pinned version and rationale in the overview doc.

Acceptance criteria

- Mypy runs only on the pinned leg and passes.

- Other legs still lint and test successfully.

7) Add ISSUE_TEMPLATE/agent-task.md with pre‑applied labels

Labels: agents, agent:codex, docs, documentation, workflows, priority: medium, risk:low, status: ready

Body:
Design reference: Workflow System Overview

Tasks

- Add .github/ISSUE_TEMPLATE/agent-task.md:

- YAML front‑matter applies agents and agent:codex.

- Body prompts for goal, constraints, outputs, and success criteria.

- Link the template from CONTRIBUTING.md.

Acceptance criteria

- Creating an issue via this template sets the labels and satisfies the bridge trigger.

- The orchestrator workflow processes assigned tasks without manual relabeling.

8) Confirm overview doc links and remove stale references

Labels: docs, documentation, workflows, priority: high, risk:low, status: ready

Body:
Design reference: Workflow System Overview

Tasks

- In README.md and docs/ci/WORKFLOWS.md, link to the overview doc and the canonical workflow list (keep vs retire).

- Remove any references to retired flows.

- If you maintain ARCHIVE_WORKFLOWS.md, ensure it lists retired items for posterity.

Acceptance criteria

- Overview doc is the first stop from README and CONTRIBUTING.

- No references to removed workflows remain.

- Optional archive page is up to date.
