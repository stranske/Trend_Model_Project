 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/tests/test_analysis.py b/tests/test_analysis.py
new file mode 100644
index 0000000000000000000000000000000000000000..22a692738008d5da439885129b24fcd6abbcb685
--- /dev/null
+++ b/tests/test_analysis.py
@@ -0,0 +1,17 @@
+import importlib.util
+import pathlib
+import pytest
+
+# Dynamically load the cleanup module from its file path
+module_path = pathlib.Path(__file__).resolve().parents[1] / 'Old' / 'Vol_Adj_Trend_Analysis_Cleanup.py'
+spec = importlib.util.spec_from_file_location('cleanup', module_path)
+cleanup = importlib.util.module_from_spec(spec)
+spec.loader.exec_module(cleanup)
+
+
+def test_run_analysis_returns_none():
+    assert cleanup.run_analysis(None, None, None, None, None, None, None) is None
+
+
+def test_prepare_weights_missing():
+    assert not hasattr(cleanup, 'prepare_weights')
 
EOF
)