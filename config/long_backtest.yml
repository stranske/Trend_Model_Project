# Long backtest on real CSV data: July 2005 – June 2025
version: "1"

data:
  csv_path: data/hedge_fund_returns_with_indexes.csv
  date_column: Date
  frequency: ME  # monthly data (month-end)
  risk_free_column: "Risk-Free Rate"
  allow_risk_free_fallback: false
  na_as_zero:
    enabled: true
    max_missing_per_window: 1
    max_consecutive_gap: 1

preprocessing:
  steps: []

vol_adjust:
  enabled: true
  target_vol: 0.12  # 12% annual volatility target

# These are ignored by the multi-period engine, but kept for completeness
sample_split:
  in_start: 2005-07
  in_end:   2017-12
  out_start: 2018-01
  out_end:   2025-06

portfolio:
  selection_mode: rank
  rank:
    inclusion_approach: top_n
    n: 8
    score_by: Sharpe
  selector:
    name: rank
    params:
      top_n: 8
      rank_column: Sharpe
  weighting:
    name: score_prop_bayes
    params:
      shrink_tau: 0.25
  policy: threshold_hold
  threshold_hold:
    metric: Sharpe
    z_exit_soft: -1.0
    z_exit_hard: -1.5
    z_entry_soft: 1.0
    z_entry_hard: 1.5
    soft_strikes: 2
    target_n: 8
    weighting: score_prop_bayes
  transaction_cost_bps: 10     # Transaction cost of 10 basis points per trade
  max_turnover: 0.50           # Limit monthly turnover to 50%
  rebalance_calendar: NYSE

# Leave benchmarks empty because the CSV does not include SPX/TSX columns
benchmarks: {}

metrics:
  registry:
    - annual_return
    - volatility
    - sharpe_ratio
    - sortino_ratio
    - information_ratio
    - max_drawdown

export:
  directory: results/long_backtest
  formats: [xlsx, csv, json, txt]
  filename: long_backtest_2005_2025

run:
  seed: 42
  jobs: 1

multi_period:
  frequency: ME       # Monthly stepping; windows measured in months
  in_sample_len: 36   # 36-month in-sample window
  out_sample_len: 12  # 12-month out-of-sample window
  start: 2005-07      # First IS: 2005-07..2008-06 → OOS: 2008-07..2009-06
  end:   2025-06      # Up to June 2025
