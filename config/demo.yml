# config/demo.yml  – minimal but schema-complete
version: "1"                      # whatever your defaults.yml uses

data:
  csv_path: ../demo/demo_returns.csv   # <– written by generate_demo.py
  date_column: Date
  frequency: ME                 # monthly data
  missing_policy: drop
  missing_fill_limit: null

preprocessing:
  steps: []                     # none for a synthetic demo
  missing_data:
    policy: ffill
    limit: 2

vol_adjust:
  enabled: false                # keep it off for speed
  target_vol: 0.10              # default risk target when enabled

sample_split:
  in_start: 2015-01
  in_end:   2022-12
  out_start: 2023-01
  out_end:   2024-12

portfolio:
  selection_mode: rank
  rank:
    inclusion_approach: top_n
    n: 5
    score_by: Sharpe
  selector:
    name: rank
    params:
      top_n: 5
      rank_column: Sharpe
  custom_weights:
    Mgr_01: 60
    Mgr_02: 40
  weighting:
    name: equal
    params: {}
  rebalance_calendar: NYSE
  transaction_cost_bps: 0
  max_turnover: 1.0

benchmarks:
  spx: SPX

regime:
  enabled: true
  proxy: "SPX"
  method: rolling_return
  lookback: 24            # two-year lookback keeps demo responsive
  smoothing: 3
  threshold: 0.0
  neutral_band: 0.0015    # small buffer around zero to avoid flapping
  min_observations: 3
  annualise_volatility: true

metrics:
  registry:
    - annual_return
    - volatility
    - sharpe_ratio
    - sortino_ratio
    - information_ratio
    - max_drawdown

export:
  directory: demo/exports
  formats: [csv, xlsx, json, txt]

output:
  format: csv
  path: demo/exports/alias_demo.csv

run:
  seed: 42                      # makes demo deterministic
  jobs: 1
  checkpoint_dir: demo/checkpoints

jobs: 1
checkpoint_dir: demo/checkpoints

multi_period:
  frequency: ME                 # monthly periods
  in_sample_len: 36             # 3 years in-sample
  out_sample_len: 12            # 1 year out-of-sample
  start: "2018-01"
  end: "2024-12"
