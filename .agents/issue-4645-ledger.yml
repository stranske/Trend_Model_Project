version: 1
issue: 4645
base: phase-3
branch: codex/issue-4645
tasks:
  - id: task-01
    title: Create `MonteCarloRunner` class in `src/trend_analysis/monte_carlo/runner.py`
      with methods for `run`, `_run_two_layer`, `_run_mixture`, `_generate_path_context`,
      and `_evaluate_strategy`.
    status: doing
    started_at: '2026-02-01T11:25:37Z'
    finished_at: null
    commit: ''
    notes: []
  - id: task-02
    title: 'Define scope for: Create `MonteCarloRunner` class in `src/trend_analysis/monte_carlo/runner.py`.
      (verify: confirm completion in repo)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-03
    title: 'Implement focused slice for: Create `MonteCarloRunner` class in `src/trend_analysis/monte_carlo/runner.py`.
      (verify: confirm completion in repo)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-04
    title: 'Validate focused slice for: Create `MonteCarloRunner` class in `src/trend_analysis/monte_carlo/runner.py`.
      (verify: confirm completion in repo)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-05
    title: 'Implement `run` method in `MonteCarloRunner`. (verify: confirm completion
      in repo)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-06
    title: 'Implement `_run_two_layer` method in `MonteCarloRunner`. (verify: confirm
      completion in repo)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-07
    title: 'Implement `_run_mixture` method in `MonteCarloRunner`. (verify: confirm
      completion in repo)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-08
    title: 'Implement `_generate_path_context` method in `MonteCarloRunner`. (verify:
      confirm completion in repo)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-09
    title: 'Implement `_evaluate_strategy` method in `MonteCarloRunner`. (verify:
      confirm completion in repo)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-10
    title: Implement two-layer mode in `_run_two_layer` to evaluate fixed strategies
      on common paths.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-11
    title: Implement mixture mode in `_run_mixture` to sample strategies per path.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-12
    title: Write `_generate_path_context` to generate synthetic prices and compute
      score frames for a path.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-13
    title: Write `_evaluate_strategy` to evaluate a single strategy on a path context.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-14
    title: Add progress callback wiring in `run` method to provide updates during
      execution.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-15
    title: Implement error handling for failed paths in `run` method (e.g., logging
      and continuing execution).
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-16
    title: Add functionality to export results and summaries to `src/trend_analysis/monte_carlo/results.py`.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-17
    title: Write unit tests in `tests/monte_carlo/test_runner.py` for small scenario
      runs (e.g., 5 paths, 2 strategies).
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-18
    title: 'Define scope for: Write unit tests in `tests/monte_carlo/test_runner.py`
      for small scenario runs with 5 paths. (verify: tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-19
    title: 'Implement focused slice for: Write unit tests in `tests/monte_carlo/test_runner.py`
      for small scenario runs with 5 paths. (verify: tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-20
    title: 'Validate focused slice for: Write unit tests in `tests/monte_carlo/test_runner.py`
      for small scenario runs with 5 paths. (verify: tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-21
    title: 'Define scope for: Write unit tests in `tests/monte_carlo/test_runner.py`
      for small scenario runs with 2 strategies. (verify: tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-22
    title: 'Implement focused slice for: Write unit tests in `tests/monte_carlo/test_runner.py`
      for small scenario runs with 2 strategies. (verify: tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-23
    title: 'Validate focused slice for: Write unit tests in `tests/monte_carlo/test_runner.py`
      for small scenario runs with 2 strategies. (verify: tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-24
    title: Write unit tests in `tests/monte_carlo/test_runner.py` to ensure determinism
      with fixed seeds.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-25
    title: 'Define scope for: Write unit tests in `tests/monte_carlo/test_runner.py`
      to ensure determinism for `run` method with fixed seeds. (verify: tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-26
    title: 'Implement focused slice for: Write unit tests in `tests/monte_carlo/test_runner.py`
      to ensure determinism for `run` method with fixed seeds. (verify: tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-27
    title: 'Validate focused slice for: Write unit tests in `tests/monte_carlo/test_runner.py`
      to ensure determinism for `run` method with fixed seeds. (verify: tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-28
    title: 'Define scope for: Write unit tests in `tests/monte_carlo/test_runner.py`
      to ensure determinism for `_run_two_layer` method with fixed seeds. (verify:
      tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-29
    title: 'Implement focused slice for: Write unit tests in `tests/monte_carlo/test_runner.py`
      to ensure determinism for `_run_two_layer` method with fixed seeds. (verify:
      tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-30
    title: 'Validate focused slice for: Write unit tests in `tests/monte_carlo/test_runner.py`
      to ensure determinism for `_run_two_layer` method with fixed seeds. (verify:
      tests pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-31
    title: 'Define scope for: Write unit tests in `tests/monte_carlo/test_runner.py`
      to ensure determinism for `_run_mixture` method with fixed seeds. (verify: tests
      pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-32
    title: 'Implement focused slice for: Write unit tests in `tests/monte_carlo/test_runner.py`
      to ensure determinism for `_run_mixture` method with fixed seeds. (verify: tests
      pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-33
    title: 'Validate focused slice for: Write unit tests in `tests/monte_carlo/test_runner.py`
      to ensure determinism for `_run_mixture` method with fixed seeds. (verify: tests
      pass)'
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-34
    title: Can run a small scenario (5 paths, 2 strategies) end-to-end.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-35
    title: Writes summary outputs to `src/trend_analysis/monte_carlo/results.py`.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-36
    title: Results are reproducible given a fixed seed.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-37
    title: Two-layer mode evaluates the same synthetic prices across all strategies.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-38
    title: Mixture mode samples different strategies for each path.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-39
    title: Progress callback receives updates during execution.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-40
    title: Supports `jobs` parameter for parallel execution.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-41
    title: Handles errors gracefully by logging failed paths and continuing execution.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-42
    title: Create `MonteCarloRunner` class in `src/trend_analysis/monte_carlo/runner.py`
      with methods for `run`, `_run_two_layer`, `_run_mixture`, `_generate_path_context`,
      and `_evaluate_strategy`.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-43
    title: Implement two-layer mode in `_run_two_layer` to evaluate fixed strategies
      on common paths.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-44
    title: Implement mixture mode in `_run_mixture` to sample strategies per path.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-45
    title: Write `_generate_path_context` to generate synthetic prices and compute
      score frames for a path.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-46
    title: Write `_evaluate_strategy` to evaluate a single strategy on a path context.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-47
    title: Add progress callback wiring in `run` method to provide updates during
      execution.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-48
    title: Implement error handling for failed paths in `run` method (e.g., logging
      and continuing execution).
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-49
    title: Add functionality to export results and summaries to `src/trend_analysis/monte_carlo/results.py`.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-50
    title: Write unit tests in `tests/monte_carlo/test_runner.py` for small scenario
      runs (e.g., 5 paths, 2 strategies).
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-51
    title: Write unit tests in `tests/monte_carlo/test_runner.py` to ensure determinism
      with fixed seeds.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-52
    title: Can run a small scenario (5 paths, 2 strategies) end-to-end.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-53
    title: Writes summary outputs to `src/trend_analysis/monte_carlo/results.py`.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-54
    title: Results are reproducible given a fixed seed.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-55
    title: Two-layer mode evaluates the same synthetic prices across all strategies.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-56
    title: Mixture mode samples different strategies for each path.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-57
    title: Progress callback receives updates during execution.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-58
    title: Supports `jobs` parameter for parallel execution.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-59
    title: Handles errors gracefully by logging failed paths and continuing execution.
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-60
    title: Add progress callback wiring in `run` method to provide updates during
      execution. (The agent cannot make subjective design decisions, such as determining
      the specific implementation of the progress callback. | Provide detailed requirements
      or an example implementation for the progress callback.)
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
  - id: task-61
    title: Implement error handling for failed paths in `run` method (e.g., logging
      and continuing execution). (The agent cannot make subjective design decisions,
      such as determining the specific logging format or error-handling strategy.
      | Provide specific guidelines or examples for error handling and logging.)
    status: todo
    started_at: null
    finished_at: null
    commit: ''
    notes: []
